title: "Deploy the GovCMS Drupal Distribution on Platform.sh"
id: platformsh/drupal8-govcms8
profile: GovCMS 8
name: GovCMS 8
default_branch: master
tags:
  - PHP
  - Drupal
  - CMS
  - Symfony
related_blog_tags:
  - Drupal
license:
  type: "MIT"
  location: "LICENSE"
features:
  - PHP 7.4
  - MariaDB 10.4
  - Redis 6
  - Drush included
  - Automatic TLS certificates
  - Composer-based build
# Use Markdown for links and formatting. They will be converted to HTML automatically when the .platform.template.yaml file is generated.
description:
  - This template builds the Australian government's GovCMS Drupal 8 distribution using the [Drupal Composer project](https://github.com/drupal-composer/drupal-project) for better flexibility.  It is pre-configured to use MariaDB and Redis for caching.  The Drupal installer will skip asking for database credentials as they are already provided.
  - GovCMS is a Drupal distribution built for the Australian government, and includes configuration optimized for managing government websites.
logo:
    link: "https://www.drupal.org/"
    images: 
      - "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='199.37' height='225'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%232ba9e0%7D%3C/style%3E%3C/defs%3E%3Cg %3E%3Cg %3E%3Cpath class='cls-1' d='M93.78 139.31a35.5 35.5 0 1 0 35.5 35.5 35.51 35.51 0 0 0-35.5-35.5zM138 132.51a61.17 61.17 0 0 1-9.26 92.49c29.31-9 53.56-31.06 64.4-57.73 15-36.92 1-64.67-22.43-89.87a45.68 45.68 0 0 1 1.15 10.11 46.88 46.88 0 0 1-33.86 45zM97.82 87.57A27.19 27.19 0 1 0 125 60.43a27.16 27.16 0 0 0-27.18 27.14z'/%3E%3Cpath class='cls-1' d='M47 214.22a61.17 61.17 0 0 1 39.55-100.1 46.82 46.82 0 0 1 44.75-72.89C116 28 100.72 14.62 88.66 0c6.13 64.13-58.4 40.82-82.32 100C-9.62 139.58 4.79 188.56 47 214.22z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"
sections:
    "create-project": "composer create-project platformsh/drupal8-govcms8 -s dev"
    metrics: false
    blackfire: true
    postinstall: "templates/drupal8-govcms8/info/post_install.md"
    local:
      - "common/readme/drupal/local_ddev.md"
      - "common/readme/drupal/local_lando.md"
    resources:
      - "[GovCMS](https://www.govcms.gov.au/)"
      - "[Drupal](https://www.drupal.org/)"
      - "[Drupal 8 on Platform.sh](https://docs.platform.sh/guides/drupal9/deploy.html)"
      - "[Platform.sh PHP documentation](https://docs.platform.sh/languages/php.html)"
    migration:
      mounts:
        - "web/sites/default/files"
        - "private"
      files:
        "web/sites/default/settings.platformsh.php": 
            - "**Added:**<br><br>"
            - "Contains Platform.sh-specific configuration, namely setting up the database connection to the MariaDB service and caching via Redis."
        "config/sync/.gitkeep": 
            - "**Added**"
        "web/sites/default/settings.php": 
            - "**Updated:**<br><br>"
            - "The Drupal settings file has been updated to import and use `web/sites/default/settings.platformsh.php`."
        ".environment": 
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.environment.md"
            - "Here, the Composer config and `PATH` are updated to allow executable app dependencies from Composer to be run from the path (i.e. `drush`)."
        ".blackfire.yml":
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.blackfire.yml.md"
        ".gitignore": 
            - "**Added:**<br><br>"
            - "A `.gitignore` file is not included in the upstream, so one has been added."
        ".lando.upstream.yml":
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.lando.upstream.yml.md"
        ".platform.app.yaml": 
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.platform.app.yaml.md"
            - "This template uses Composer 2 to install dependencies using the default `composer` [build flavor](https://docs.platform.sh/languages/php.html#build-flavor) prior to the `build` hook."
            - "Drush tasks are run during the `deploy` hook, and referenced again during the defined `cron` job."
        "drush/platformsh_generate_drush_yml.php":
            - "**Added:**<br><br>"
            - "This file has been included to generate the drush yaml configuration on every deployment."
        ".ddev/providers/platform.yaml":
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.ddev.providers.platform.yaml.md"
        "php.ini":
            - "**Added:**<br><br>"
            - file: "common/readme/drupal/php.ini.md"
        ".platform/services.yaml": 
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.platform.services.yaml.md"
            - "In this template, MariaDB and Redis have been configured."
        ".platform/routes.yaml": 
            - "**Added:**<br><br>"
            - file: "common/readme/file_descriptions/.platform.routes.yaml.md"
    troubleshoot:
      - file: "common/readme/troubleshoot_ssh.md"
      - file: "common/readme/drupal/troubleshoot_cache.md"
      - file: "common/readme/drupal/troubleshoot_hashsalt.md"
